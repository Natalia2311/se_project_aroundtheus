!function(){"use strict";var e=class{constructor(e,t,s,r,i){this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleImageClick=s,this.isLiked=e.isLiked,this._id=e._id,this._handleDeleteButton=r,this._handleCardLike=i}setLikeStatus(e){this.isLiked=e,this._renderLikes()}_renderLikes(){this.isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleCardLike(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._link,this._name,this._id)}))}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}_getElement(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getElement(),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._renderLikes(),this._setEventListeners(),this._cardElement}},t=class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._items.forEach(this._renderer)}addItem(e){this._container.prepend(e)}},s=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(e){return!this._inputEls.every((e=>e.validity.valid))}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this.toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}toggleButtonState(){this._hasInvalidInput(this._inputEls)?this._disableButton():this._enableButton()}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this.toggleButtonState()}};const r={inputSelector:".modal__form-input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__form-input_type_error",errorClass:"modal__error_visible"},i=(document.querySelector("#add-card-modal"),document.querySelector(".cards__list"),document.querySelector("#profile-title-input")),n=document.querySelector("#profile-description-input"),o=(document.forms["profile-form"],document.querySelector("#profile__edit-button")),a=document.querySelector(".profile__add-button"),l=document.querySelector("#preview-card-modal").querySelector("#modal__container-preview");l.querySelector(".modal__preview-image"),l.querySelector(".modal__preview-heading"),document.querySelector("#profile-name-input"),document.querySelector("#profile-url-input"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile-edit-modal"),document.querySelector("#delete-modal"),document.querySelector("#profile-avatar-modal");class d{constructor(e){this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscape)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscape)}_handleEscape=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target===this._popupElement||e.target.classList.contains("modal__close"))&&this.close()}))}}var c=class extends d{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputList=this._popupForm.querySelectorAll(".modal__form-input"),this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}close(){this._popupForm.reset(),super.close()}setLoading(e){this._submitButton.textContent=e?"Saving ...":this._submitButtonText}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}};const u=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponce(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then((e=>this._checkResponce(e)))}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers})}getNewCard(e){let{title:t,url:s}=e;return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})})}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers})}updateUserInfo(e){let{title:t,description:s}=e;return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}updateAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}updateLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"260f3e4b-e160-43cd-8335-e153b3805f81","Content-Type":"application/json"}});let _;function h(e){return e.isLiked?u.removeLike(e._id).then((()=>{e.setLikeStatus(!1)})).catch((e=>{console.error(e)})):u.updateLike(e._id).then((()=>{e.setLikeStatus(!0)})).catch((e=>{console.error(e)}))}u.getInitialCards().then((e=>{_=new t({items:e,renderer:e=>{const t=y(e);_.addItem(t)}},".cards__list"),_.renderItems()})).catch((e=>{console.log(e)})),u.getUserInfo().then((e=>{console.log(e),b.setUserInfo({name:e.name,about:e.about}),b.setUserAvatar(e.avatar)})).catch((e=>{console.error(e)}));const m=new c("#add-card-modal",(function(e){m.setLoading(!0,"Saving ..."),u.getNewCard(e).then((e=>{const t=y(e);_.addItem(t),m.close()})).catch((e=>{console.log(e)})).finally((()=>{m.setLoading(!1)}))}));m.setEventListeners();const p=new s(r,document.forms["card-form"]);p.enableValidation();const v=new c("#avatar-modal",(function(e){v.setLoading(!0,"Saving ..."),u.updateAvatar(e.url).then((t=>{b.setUserAvatar(e.url),v.close()})).catch(console.error).finally((()=>{v.setLoading(!1)}))}));v.setEventListeners();const E=new s(r,document.forms["avatar-form"]);E.enableValidation();const f=new c("#profile-edit-modal",(function(e){let{title:t,description:s}=e;f.setLoading(!0,"Saving ..."),u.updateUserInfo({title:t,description:s}).then((e=>{b.setUserInfo(e),f.close()})).catch((e=>{console.log(e)})).finally((()=>{f.setLoading(!1)}))}));f.setEventListeners();const S=new s(r,document.forms["profile-form"]);S.enableValidation();const b=new class{constructor(e,t,s){this._profileTitle=document.querySelector(e),this._profileDescription=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{title:this._profileTitle.textContent,description:this._profileDescription.textContent,avatar:this._avatar}}setUserInfo(e){let{name:t,about:s}=e;this._profileTitle.textContent=t,this._profileDescription.textContent=s}setUserAvatar(e){this._avatar.src=e}}(".profile__title",".profile__description",".profile__image"),L=new class extends d{constructor(e){super(e),this._previewImageEl=document.querySelector(".modal__preview-image"),this._previewHeadingEl=document.querySelector(".modal__preview-heading")}open(e,t){console.log(2),this._previewImageEl.src=e,this._previewImageEl.alt=t,this._previewHeadingEl.textContent=t,super.open()}}("#preview-card-modal");function g(e,t){L.open(e,t)}function y(t){return new e(t,"#card-template",g,k,h).getView()}L.setEventListeners();const q=new class extends d{constructor(e){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._submitButton=this._popupForm.querySelector(".modal__button")}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}("#delete-modal");function k(e){q.open(),q.setSubmitAction((()=>{u.deleteCard(e._id).then((()=>{q.close(),e.handleDeleteCard()})).catch((e=>{console.log(e)}))}))}q.setEventListeners(),document.querySelector(".profile__icon").addEventListener("click",(()=>{v.open(),E.resetValidation()})),o.addEventListener("click",(()=>{S.resetValidation();const e=b.getUserInfo();i.value=e.title,n.value=e.description,f.open()})),a.addEventListener("click",(()=>{m.open(),p.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3pDMkIsRUFBYzdFLE1BQU0sSUFHdEJMLEVBQWlCcEUsaUJBQWlCLFNBQVMsS0FDekMrSSxFQUFhdEUsT0FDYnlFLEVBQWlCcEYsaUJBQWlCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhcmREYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICBoYW5kbGVDYXJkTGlrZVxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5pc0xpa2VkID0gY2FyZERhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9pZCA9IGNhcmREYXRhLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcbiAgfVxuXG4gIHNldExpa2VTdGF0dXMoaXNMaWtlZCkge1xuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b25cbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUsIHRoaXMuX2lkKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX2dldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0RWxzKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICAvLyB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkodGhpcy5fZm9ybSwgaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgLy90aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWwpIHtcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2UgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0pO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxufVxuXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19mb3JtLWlucHV0X3R5cGVfZXJyb3JcIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICBcbl07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Zvcm0taW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGVfX2VkaXQtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwcmV2aWV3Q2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWNhcmQtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgcHJldmlld01vZGFsQ29udGFpbmVyID0gcHJldmlld0NhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbF9fY29udGFpbmVyLXByZXZpZXdcIlxuKTtcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2VFbCA9IHByZXZpZXdNb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fcHJldmlldy1pbWFnZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByZXZpZXdIZWFkaW5nRWwgPSBwcmV2aWV3TW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX3ByZXZpZXctaGVhZGluZ1wiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgY2FyZFVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXVybC1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5cbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWF2YXRhci1tb2RhbFwiKTtcblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGUpO1xuICB9XG5cbiAgX2hhbmRsZUVzY2FwZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50IHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0TG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZyAuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCIvLyBJbXBvcnQgYWxsIHRoZSBjbGFzc2VzXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBhZGROZXdDYXJkQnV0dG9uLFxuIFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBQb3B1cERlbGV0ZUNvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDb25maXJtLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjI2MGYzZTRiLWUxNjAtNDNjZC04MzM1LWUxNTNiMzgwNWY4MVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmxldCBjYXJkU2VjdGlvbjtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IHJlcyxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBhYm91dDogZGF0YS5hYm91dCxcbiAgICB9KTtcbiAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckF2YXRhcihkYXRhLmF2YXRhcik7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoY2FyZCkge1xuICBpZiAoIWNhcmQuaXNMaWtlZCkge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC51cGRhdGVMaWtlKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnNldExpa2VTdGF0dXModHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFwaVxuICAgICAgLnJlbW92ZUxpa2UoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuc2V0TGlrZVN0YXR1cyhmYWxzZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2FkZC1jYXJkLW1vZGFsXCIsXG4gIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0XG4pO1xuXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNvbnN0IGFkZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl07XG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhZGRGb3JtRWxlbWVudCk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhdmF0YXItbW9kYWxcIiwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBhdmF0YXJFZGl0RWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiYXZhdGFyLWZvcm1cIl07XG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcblxuICBhdmF0YXJFZGl0RWxlbWVudFxuKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0Rm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcblxuZWRpdEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuY29uc3QgcHJvZmlsZUVkaXRFbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0RWxlbWVudFxuKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICBcIi5wcm9maWxlX190aXRsZVwiLFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBcIi5wcm9maWxlX19pbWFnZVwiXG4pO1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWNhcmQtbW9kYWxcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBBbGwgdGhlIHJlc3RcblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhsaW5rLCBuYW1lKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obGluaywgbmFtZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICBjYXJkRGF0YSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVCdXR0b24sXG4gICAgaGFuZGxlQ2FyZExpa2VcbiAgKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50LmdldFZpZXcoKTtcbn1cblxuY29uc3QgY2FyZERlbGV0ZU1vZGFsID0gbmV3IFBvcHVwRGVsZXRlQ29uZmlybShcIiNkZWxldGUtbW9kYWxcIik7XG5jYXJkRGVsZXRlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpIHtcbiAgY2FyZERlbGV0ZU1vZGFsLm9wZW4oKTtcbiAgY2FyZERlbGV0ZU1vZGFsLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLl9pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZERlbGV0ZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgZWRpdEZvcm1Qb3B1cC5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nIC4uLlwiKTtcbiAgYXBpXG4gICAgLnVwZGF0ZVVzZXJJbmZvKHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICBlZGl0Rm9ybVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRGb3JtUG9wdXAuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgYXZhdGFyUG9wdXAuc2V0TG9hZGluZyh0cnVlLCBcIlNhdmluZyAuLi5cIik7XG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMudXJsKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VyQXZhdGFyKGlucHV0VmFsdWVzLnVybCk7XG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYXZhdGFyUG9wdXAuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IG9wZW5BdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ljb25cIik7XG5cbm9wZW5BdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIGFkZENhcmRQb3B1cC5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nIC4uLlwiKTtcbiAgYXBpXG4gICAgLmdldE5ld0NhcmQoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGFkZENhcmRQb3B1cC5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGNvbnN0IHVzZXJJbmZvID0gcHJvZmlsZVVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gdXNlckluZm8udGl0bGU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlckluZm8uZGVzY3JpcHRpb247XG4gIGVkaXRGb3JtUG9wdXAub3BlbigpO1xufSk7XG5cbmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbmNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG5cclxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpe1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCxvcHRpb25zKS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uY2UocmVzKSlcclxuICB9XHJcbiAgXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG5cclxuICAgcmV0dXJuICB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0TmV3Q2FyZCh7IHRpdGxlLCB1cmwgfSkge1xyXG4gICAgLy8gbmFtZSBtaWdodCBiZSBkaWZmZXJlbnRcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGl0bGUsXHJcbiAgICAgICAgbGluazogdXJsLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm8oeyB0aXRsZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGl0bGUsXHJcbiAgICAgICAgYWJvdXQ6IGRlc2NyaXB0aW9uLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIodXJsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiB1cmwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb2ZpbGVUaXRsZVNlbGVjdG9yLFxuICAgIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yLFxuICAgIGF2YXRhclNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVRpdGxlU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cbiAgLy8gcmV0dXJuIG9iamVjdCBjb250YWluaW5nIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHByb2ZpbGUgZWxlbWVudHNcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpdGxlOiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIsXG4gICAgfTtcbiAgfVxuICAvL3Bhc3MgaW4gdGhlIHZhbHVlcyBmcm9tIHRoZSBmb3JtIHN1Ym1pc3Npb25cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xuICAgIHRoaXMuX3ByZXZpZXdIZWFkaW5nRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWhlYWRpbmdcIik7XG4gIH1cblxuICBvcGVuKGxpbmssIG5hbWUpIHtcbiAgICBjb25zb2xlLmxvZygyKVxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZUVsLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlRWwuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wcmV2aWV3SGVhZGluZ0VsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZUNvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUNhcmRMaWtlIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsImlzTGlrZWQiLCJfaWQiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUNhcmRMaWtlIiwic2V0TGlrZVN0YXR1cyIsIl9yZW5kZXJMaWtlcyIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdXR0b24iLCJfY2FyZEltYWdlRWwiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRFbGVtZW50IiwiX2dldEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIl9jYXJkVGl0bGVFbCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJhZGRJdGVtIiwiY2FyZCIsInByZXBlbmQiLCJzZXR0aW5ncyIsImZvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiaW5wdXRFbHMiLCJfaW5wdXRFbHMiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfZW5hYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfZGlzYWJsZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwidmFsaWRhdGlvblNldHRpbmdzIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiZm9ybXMiLCJhZGROZXdDYXJkQnV0dG9uIiwicHJldmlld01vZGFsQ29udGFpbmVyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjYXBlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJfc3VibWl0QnV0dG9uVGV4dCIsInJlc2V0Iiwic2V0TG9hZGluZyIsImlzTG9hZGluZyIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jaGVja1Jlc3BvbmNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl9yZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsIm1ldGhvZCIsImdldE5ld0NhcmQiLCJfcmVmMiIsInRpdGxlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRVc2VySW5mbyIsInVwZGF0ZVVzZXJJbmZvIiwiX3JlZjMiLCJkZXNjcmlwdGlvbiIsImFib3V0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiZGVsZXRlQ2FyZCIsInVwZGF0ZUxpa2UiLCJyZW1vdmVMaWtlIiwiYXV0aG9yaXphdGlvbiIsImNhcmRTZWN0aW9uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJTZWN0aW9uIiwiY3JlYXRlQ2FyZCIsImxvZyIsImRhdGEiLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJhZGRDYXJkUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiZmluYWxseSIsImFkZEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYXZhdGFyUG9wdXAiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiZWRpdEZvcm1Qb3B1cCIsImVkaXRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZVRpdGxlU2VsZWN0b3IiLCJwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX3Byb2ZpbGVUaXRsZSIsIl9wcm9maWxlRGVzY3JpcHRpb24iLCJfYXZhdGFyIiwicG9wdXBXaXRoSW1hZ2UiLCJfcHJldmlld0ltYWdlRWwiLCJfcHJldmlld0hlYWRpbmdFbCIsIkNhcmQiLCJjYXJkRGVsZXRlTW9kYWwiLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJ1c2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=